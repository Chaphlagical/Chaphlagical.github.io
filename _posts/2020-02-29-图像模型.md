---
title: 图像模型
tags: 数字图像处理
article_header:
  type: cover
  image:
    src: /assets/images/DIP.jpg
---

<!--more-->

## 一、图像成像机理

### (一) 人眼成像机理

人类的视觉系统由以下四个部分组成：

* 眼球
	* 是一个相当复杂,精细的光学仪器,起到调节适当的光强,折射率.同时外界的三维景物变换成二维的视网膜上的投影

* 眼底视网膜
	* 起到光电传感器的作用,收光量子,输出生物电流
* 视觉通路
	* 将生物电信号经过平均与会聚转换成一束信号,传送到大脑皮层
* 大脑皮层视觉区
	* 工作机理非常复杂 ,还没有被探明

### (二) 成像过程

<img src="assets/images/图像模型.assets/image-20200229101018190.png" alt="image-20200229101018190" style="zoom: 67%;" />

### (三) 图像获取

<img src="assets/images/图像模型.assets/image-20200229101053765.png" alt="image-20200229101053765" style="zoom:50%;" />

* 图像成像的三个要素:
	* 相机（个数，参数，距离，视角，运动）
	* 光照（光源数量，特性，角度）
	* 场景表面的特性（表面反射特性，表面三维形状）

#### 1、相机原理

##### (1) 小孔成像—相机基本原理

<img src="assets/images/图像模型.assets/image-20200229101148262.png" alt="image-20200229101148262" style="zoom:50%;" />

* The barrier blocks off most of the rays
* This reduces blurring
* Aperture = Opening of the pinhole

##### (2) 焦距

<img src="assets/images/图像模型.assets/image-20200229101241470.png" alt="image-20200229101241470" style="zoom:50%;" />

##### (3) 光圈

<img src="assets/images/图像模型.assets/image-20200229101256072.png" alt="image-20200229101256072" style="zoom:50%;" />

##### (4) 快门（曝光时间）

<img src="assets/images/图像模型.assets/image-20200229101322418.png" alt="image-20200229101322418" style="zoom:50%;" />

#### 2、增加透镜

<img src="assets/images/图像模型.assets/image-20200229101527710.png" alt="image-20200229101527710" style="zoom:50%;" />



##### 透镜的问题：色差

<img src="assets/images/图像模型.assets/image-20200229101541367.png" alt="image-20200229101541367" style="zoom:50%;" />

##### 解决方案：透镜组

<img src="assets/images/图像模型.assets/image-20200229101601125.png" alt="image-20200229101601125" style="zoom:50%;" />

## 二、图像成像模型

### (一) 图像模型概述

#### 1、模型的效用

##### (1) 几何模型：确定像点在成像平面的位置

<img src="assets/images/图像模型.assets/image-20200229101907617.png" alt="image-20200229101907617" style="zoom:50%;" />

<img src="assets/images/图像模型.assets/image-20200229101925918.png" alt="image-20200229101925918" style="zoom: 67%;" />

##### (2) 数字模型：确定如何从图像中采集信息

**图像的采样**

<img src="assets/images/图像模型.assets/image-20200229102029359.png" alt="image-20200229102029359" style="zoom: 67%;" />

**图像的量化**

<img src="assets/images/图像模型.assets/image-20200229102043303.png" alt="image-20200229102043303" style="zoom:67%;" />

**图像的空间分辨率**

<img src="assets/images/图像模型.assets/image-20200229102147348.png" alt="image-20200229102147348" style="zoom:50%;" />

**图像的亮度分辨率**

<img src="assets/images/图像模型.assets/image-20200229102209046.png" alt="image-20200229102209046" style="zoom:50%;" />

**数字图像的形式**

* 二维函数或矩阵$f(x,y)$
* $x, y, f(x,y) $are discrete and finite
* Image size = $\max(x) \times \max(y)$
* Pixel intensity value$ f(x,y) ∈ [0, 255]$

![image-20200229102306528](assets/images/图像模型.assets/image-20200229102306528.png)

##### (3) 物理模型：确定像点的图像函数值

### (二) 图像亮度模型

#### 1、影响图像灰度值的因素（定性）

* 光源分布（照明特性）
* 物体表面的反射特性
* 物体表面的几何形状
* 物体、光源和观测者的相对位置
* 成像系统的光学特性

#### 2、图像的亮度模型

<img src="assets/images/图像模型.assets/image-20200229103133169.png" alt="image-20200229103133169" style="zoom:50%;" />

#### 3、图像灰度与景物辐射之间的关系

$$
E_i=\frac{\pi}{4}L(\frac{D}{f})^2\cos^4\alpha
$$

* 图像平面的辐射照度（也就是图像灰度）和景物表面的辐射亮度($L$)成正比
	* 景物表面的辐射亮度与照明的性质、景物表面的反射特性有关。一般情况下，它在空间的分布未必是各向同性的。除个别情况外，所观测到的景物表面的辐射亮度与观察者所处的方位有关

* 图像的灰度与光学系统的孔径焦距比的平方($(\frac{D}{f})^2$)成正比
	* 对于一个光学系统而言，若保持镜头的孔径不变，而使焦距从短焦变成长焦时，系统成像的灵敏度将会有比较显著的下降。在实际应用时，应考虑对由变焦引起的图像灰度值的变化进行补偿
* 图像的灰度和偏转角$\alpha$的余弦的四次方成正比。随着偏离图像中心，图像的灵敏度将下降，从而引起非线性失真
	* 由于偏转角$\alpha$通常很小，最后一项在大多数情况下近似等于1**，**可忽略不计
	* 但在某些场合，需要在测量前对这种非线性失真进行补偿
* 图像的灰度和景物的深度无关。只要物体的表面足够大，使得它在图像平面上形成的像足以覆盖一个像素，那么，相应的灰度值和深度无关

### (三) 图像的颜色模型

#### 1、人的色觉

##### (1) Young-Helmholtz三色学说

研究发现，在人的视网膜上存在两种分别称为柱状细胞和锥状细胞的感光细胞

* 柱状细胞 灵敏度高，能够感受很微弱的光
* 锥状细胞 灵敏度低，但能够很好地区分颜色

锥状细胞又由三种不同的细胞组成。这三种细胞分别对红、绿、蓝三色敏感（相应的吸收峰在445nm,537nm570nm处）

##### (2) 视网膜

<img src="assets/images/图像模型.assets/image-20200229103813503.png" alt="image-20200229103813503" style="zoom:50%;" />



<img src="assets/images/图像模型.assets/image-20200229103831053.png" alt="image-20200229103831053" style="zoom:50%;" />

##### (3) 视觉通路

<img src="assets/images/图像模型.assets/image-20200229103901371.png" alt="image-20200229103901371" style="zoom:50%;" />

##### (4) 大脑皮层

<img src="assets/images/图像模型.assets/image-20200229103924540.png" alt="image-20200229103924540" style="zoom: 50%;" />

**色调**

也称色(彩)相，是彩色彼此之间相互区分的一种特性，是颜色的心理属性的代表之一。光源的色调取决于所辐射的光谱组成对人眼所产生的感觉，由物理上到达视网膜的光的主波长所确定。而物体的色调则取决于光源的光谱组成和物体表面所反射（或透射）的各波长辐射的比例对人眼所产生的感觉

**色饱和度**

也称彩度（chroma），是彩色的纯洁性，也即白色光缺少程度的度量。 可见光谱中的各种单色光是最饱和的彩色。光谱组成中掺入的白光成分越多，则越不饱和。当掺入的白色光的成分达到很大比例时，其饱和度很低而成为白光了。物体的色饱和度取决于该物体表面反射光谱辐射的选择性程度。当物体对光谱某一较窄波段的反射率很高，而对其它波长的反射率很低或没有反射时，表明它有很高的选择性，对应的颜色的饱和度就高

**明度**

明度有时也称强度（Intensity），是彩色光明暗程度的度量。彩色光的亮度越高，看起来就愈觉明亮；此时，我们说它有较高的明度。物体表面的光谱反射率越高，其明度也越高。例如，黄褐色物体表面在光谱所有波段上都比红色物体表面反射更多的光辐射，故使人眼产生更高的亮度感觉，因而它比红色物体具有更高的明度

#### 2、RGB&CMY

一个能发出光波的物体称为有源物体，它的颜色由该物体发出的光波决定，使用（RGB）相加混色模型；一个不发光波的物体称为无源物体，它的颜色由该物体吸收或者反射哪些光波决定，用（CMY）相减混色模型。

<img src="assets/images/图像模型.assets/image-20200229104449651.png" alt="image-20200229104449651" style="zoom:67%;" />

#### 3、颜色的三维表示

颜色空间是三维的线性空间，任何一种具有一定亮度的色光均可表示为该空间中的一个点（或过原点的一个向量），它由适当选择的三种基色光经加权混合而成

选择不同的基色，可以得到不同的表色系统

#### 4、RGB表色系统

<img src="assets/images/图像模型.assets/image-20200229105214029.png" alt="image-20200229105214029" style="zoom:50%;" />

##### (1) 颜色空间

* 颜色空间中过原点的一个向量对应于实际中具有一定亮度的某种色光
* 颜色向量可用于表示光的颜色：方向不同的颜色向量所表示的光的颜色不同
* 颜色向量也可用于描述光的亮度变化：方向相同但长度不同的颜色向量所表示的光的亮度不同

##### (2) 色度

$$
r=\frac{R}{R+G+B}\\
g=\frac{G}{R+G+B}\\
b=\frac{B}{R+G+B}\\
$$

###### (3) r-g色度图

<img src="assets/images/图像模型.assets/image-20200229105515283.png" alt="image-20200229105515283" style="zoom:50%;" />

由于r、g、b三者之间不是独立的，故选择其中的两个来描述颜色即可。把依据所选择的两个色度坐标在二维色度平面上描画出的所有颜色的图称为RGB表色系统的色度图

* r-g色度图存在的问题：
	* r取负值的领域非常宽。一方面，这在视觉上显得不是很好看。另一方面，更重要的是为了配色往往要求使用负的色度值。这给实际的测定带来问题
	* 白色左上方的领域太宽，使得二维的色度空间未被均等地加以利用，从而导致相应的色度图对不同彩色的表现能力上存在差异

#### 5、XYZ表色系统

XYZ表色系统是对RGB表色系统进行坐标变换后产生的。配色方程为
$$
C(c)=X(x)+Y(y)+Z(z)
$$
这里三个基色量$(x)、(y)、(z)$ 的选择满足以下三个条件：

* 相应的三个原刺激值均不为负；
* Y的数值正好是相应彩色光的光通量；
* 当X=Y=Z时，仍对应标准白光

$$
x=\frac{X}{X+Y+Z}\\
y=\frac{Y}{X+Y+Z}\\
z=\frac{Z}{X+Y+Z}\\
$$

##### (1) x-y色度图

<img src="assets/images/图像模型.assets/image-20200229110307219.png" alt="image-20200229110307219" style="zoom:50%;" />

* 白色的色度坐标$x=y=z=1/3$
* 所有实际的颜色均位于舌形线的内侧
* 位于舌形线上各点对应的颜色是纯色

<img src="assets/images/图像模型.assets/image-20200229110448362.png" alt="image-20200229110448362" style="zoom:50%;" />

如图，若C1、C2、C3为所选择的基色组，则C1、C2、C3三点所围成的三角形就是基色组所确定的颜色范围，该三角形内所有的颜色都可以通过混合适量的C1、C2、C3所得到。

<img src="assets/images/图像模型.assets/image-20200229110828787.png" alt="image-20200229110828787" style="zoom:50%;" />

如果两种颜色的光按一定比例混合后能够得到白色光，那么我们就称其为互补色。例如，红色和青色、蓝色和黄色。从色度图上看，互补色一定是位于一条过白色C点的线段的两端
$$
\begin{align}
x&=\frac{X1+X2}{C1+C2}\\
y&=\frac{Y1+Y2}{C1+C2}\\
Ci&=Xi+Yi+Zi,\ i=1,2
\end{align}
$$
<img src="assets/images/图像模型.assets/image-20200229111015834.png" alt="image-20200229111015834" style="zoom:50%;" />

如图所示，从C点过C1点作一条线段与光谱曲线相交，得到Cs点。这样，颜色C1就可以表示为颜色Cs和白光的混合。那么C1的主波长就为Cs。但这种方法不适用与那些C和紫色线之间的颜色点如C2点，因为紫色线不属于光谱范围。为此，我们作C2C的反向延长线，交光谱曲线于Cp点，则C2点的主波长就为Cp

#### 6、HSI色彩空间

##### (1) HSI表示和RGB表示的转换关系

<img src="assets/images/图像模型.assets/image-20200229111231837.png" alt="image-20200229111231837" style="zoom: 67%;" />

##### (2) 颜色空间

<img src="assets/images/图像模型.assets/image-20200229111308723.png" alt="image-20200229111308723" style="zoom:50%;" />

#### 7、YCrCb颜色模型

<img src="assets/images/图像模型.assets/image-20200229111419950.png" alt="image-20200229111419950" style="zoom:50%;" />

椭圆区域（放大显示）表示人眼无法与椭圆中心颜色进行区分的颜色范围，椭圆的大小、方向随着中心位置的变化而变化，因此不能用空间中的欧式距离度量颜色差异

该模型中Y代表了光源的亮度，而色度则包含在Cr、Cb两个参数里。此类模型被广泛采用在视频、电视信号的传输中。由于人眼对亮度的敏感程度大于对色度的敏感程度，因此总是将最大的带宽分给Y信号

YCrCb表示和RGB表示之间存在如下所示的转换关系：
$$
\begin{bmatrix}Y \\ Cr \\ Cb\end{bmatrix}=
\begin{bmatrix}
0.30&0.59&0.11\\
0.50&-0.42&0.08\\
-0.17&-0.33&0.50
\end{bmatrix}
\begin{bmatrix}R \\ G \\ B\end{bmatrix}+
\begin{bmatrix}0 \\ 0.5 \\ 0.5\end{bmatrix}
$$
