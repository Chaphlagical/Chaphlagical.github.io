---
bg: "2019-02-28.jpg"
layout: post
title:  "ubuntu使用经验"
crawlertitle: "ubuntu使用经验"
summary: "ubuntu使用经验"
date:   2019-02-28 12:02:47 +0700
categories: posts
tags: ['速查小记']
author: Chaf
---

本文介绍本人在使用ubuntu过程中遇到的一些问题以及解决方案

* TOC
{:toc}
### 1、ibus中文输入法崩溃解决方法

ibus中文输入有时候会出现输入框能出现当除了空格可以输入第一个待选词之外，无法使用数字键盘或者鼠标点击进行选择，使用数字键盘选择时会自动输入该数字

**解决方法**：

```shell
$ ~/.cache/ibus/libpinyin
```

清理缓存可以解决（但是好像一段时间后复发？）

### 2、清理内存

查看清理空间

```shell
du  –h  /var/cache/apt/archives
```

删除你已经卸载掉的软件包的命令为

```shell
sudo　apt-get autoclean
```

把电脑上存储的安装包全部卸载

```shell
sudo　apt-get clean
```

卸载这些孤立包（已卸载软件的依赖项）的命令

```shell
sudo　apt-get autoremove
```

删除多余内核：

（1）首先要使用这个命令查看当前Ubuntu系统使用的内核

```shell
uname -a
```

（2）再查看所有内核

```shell
dpkg –-get-selections|grep linux
```

（3）最后小心翼翼地删除吧

```shell
sudo apt-get remove linux-image-2.6.32-22-generic
```

### 3、解决“无法获得锁 /var/lib/dpkg/lock -open （11：资源暂时不可用）”的方法

（1）终端输入 ps  aux ，列出进程。找到含有apt-get的进程，直接sudo kill PID。

（2）强制解锁,命令

```shell
sudo rm /var/cache/apt/archives/lock
sudo rm /var/lib/dpkg/lock
```

### 4、使用chmod修改文件/文件夹权限

chmod语法：

```shell
chmod [-可选参数][<权限范围>+/-/=<权限设置>] 文件/目录
```

1.指定某类用户的权限

```shell
 chmod [ u / g / o / a ] [ + / - / = ] [ r / w / x ] file
```

[ u / g / o / a ] 为权限范围，其中
u：User，即文件或目录的拥有者
g：Group，即文件或目录的所属群组
o：Other，除了文件或目录拥有者和所属群组外，其他用户都属于这个范围
a：All，即全部用户

**权限操作**
+表示增加权限
-表示取消权限
=表示取消之前的权限，并给予唯一的权限
**权限代号**
r：读取权限，数字代号为 “4”
w：写入权限，数字代号为 “2”
x：执行权限，数字代号为 “1”
-：不具备任何权限，数字代号为 “0”

file：文件名（路径）

例如

    sudo chmod u+rw /code/readme.txt

给 User 用户增加了对“/code/readme.txt”文件 “w” 和 “x” 的权限

2、同时指定三类用户的权限

    chmod [xyz] file

其中x，y，z分别指定User、Group、Other的权限；用三位二进制数表示 ” r , w , x”（注意顺序）三种权限，其中 0 代表没有该权限，1 代表有该权限，如 100 则表示，有 ‘r”权限，无 “w x”权限；再将这个三位的二进制数转为十进制，则是 x (或y，z)的值

例如

    sudo chmod 774 /code/readme.txtUser : 7 = 111 表示具有 ” r , w , x” 权限
    Group : 7 = 111 表示具有 ” r , w , x” 权限
    Other : 4 = 100 表示只具有 ” r ” 权限，而没有 “w,x” 权限

    sudo chmod 774 *

” * ” 为通配符，表示对当前所在目录下的所有文件做权限修改操作

    sudo chmod -R 774 /code/

修改这个目录，以及子目录下文件的权限
**可选参数列表：**

| 参数 |             参数说明             |
| :--: | :------------------------------: |
|  -c  |     当发生改变时报告处理信息     |
|  -f  |          错误信息不输出          |
|  -R  | 处理指定目录及子目录下的所有文件 |
|  -v  |      运行时显示详细处理信息      |

​	


​	
​	
​	