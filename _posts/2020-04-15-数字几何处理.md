---
title: 数字几何处理
tags: 计算机图形学
article_header:
  type: cover
  image:
    src: /assets/images/cg.jpg
---

<!--more-->

## Geometric Modeling

### 三维几何物体的不同表达方式

<img src="数字几何处理.assets/image-20200414234653627.png" alt="image-20200414234653627" style="zoom: 67%;" />

### 人工建模：使用3D建模软件

<img src="数字几何处理.assets/image-20200414234742341.png" alt="image-20200414234742341" style="zoom: 67%;" />

 

### Image based Modeling (IBM)

<img src="数字几何处理.assets/image-20200414234822611.png" alt="image-20200414234822611" style="zoom: 67%;" />

### 结构光测距

<img src="数字几何处理.assets/image-20200414234910689.png" alt="image-20200414234910689" style="zoom: 67%;" />

### 激光扫描

<img src="数字几何处理.assets/image-20200414235014431.png" alt="image-20200414235014431" style="zoom: 67%;" />

### 深度相机

* Microsoft Kinect
* Apple Primesense
* Intel RealSense
* Google Project Tango
* Asus Xtion
* iPhone X

<img src="数字几何处理.assets/image-20200414235144864.png" alt="image-20200414235144864" style="zoom:67%;" />

### 动态3D物体的重建

<img src="数字几何处理.assets/image-20200414235242795.png" alt="image-20200414235242795" style="zoom:67%;" />

### 其他特殊物体的3D建模

<img src="数字几何处理.assets/image-20200414235325680.png" alt="image-20200414235325680" style="zoom:67%;" />

## Surface Reconstruction

### Problem

* Input
	* A set of points in 3D that sampled from a model surface
* Output
	* A 2D manifold mesh surface that closely approximates the surface of the original model

<img src="数字几何处理.assets/image-20200414235426308.png" alt="image-20200414235426308" style="zoom:67%;" />

### Desirable Properties

* No restriction on topological type
* Representation of range uncertainty
* Utilization of all range data
* Incremental and order independent updating
* Time and space efficiency
* Robustness
* Ability to fill holes in the reconstruction

### 主要方法

* Methods that construct triangle meshes directly — *Explicit methods*
	* Voronoi diagram and Delaunay triangulation
	* Zippering in 3D
* Methods that construct volumetric implicit functions — *Implicit methods*
	* Signed distances
	* Radial basis function reconstruction
	* Poisson reconstruction

### 直接构网法

* Voronoi diagram
* Delaunay triangulation

<img src="数字几何处理.assets/image-20200414235639835.png" alt="image-20200414235639835" style="zoom:67%;" />

### 隐式函数拟合法

* 构造一个4D隐函数，在点上的值是0
	* 距离场、RBF方法、Poisson方法…
* 抽取0等值面为结果曲面
	* Marching cube

<img src="数字几何处理.assets/image-20200414235723815.png" alt="image-20200414235723815" style="zoom:67%;" />

### Registration

* 将不同视角的点云统一到同一个坐标系中

<img src="数字几何处理.assets/image-20200414235753184.png" alt="image-20200414235753184" style="zoom:50%;" />

## Mesh Smoothing

### Noise on Meshing

<img src="数字几何处理.assets/image-20200415075717399.png" alt="image-20200415075717399" style="zoom:67%;" />

### Laplacian Smoothing (Denoising)

<img src="数字几何处理.assets/image-20200415075750582.png" alt="image-20200415075750582" style="zoom:67%;" />

### Denoise

* Filtering
	* Eliminate high frequency
	* Preserve global features

<img src="数字几何处理.assets/image-20200415075831437.png" alt="image-20200415075831437" style="zoom:67%;" />

### Over-smoothing

<img src="数字几何处理.assets/image-20200415075900348.png" alt="image-20200415075900348" style="zoom:67%;" />

### Laplacian Smoothing FLow

$$
L(P)=\frac{1}{n}\sum\limits_{i=1}^n \vec{PQ_i}=\frac{1}{n}\sum\limits_{i=1}^n Q_i-P
$$

$$
P_{new}\longleftarrow P_{old}+\lambda \boldsymbol L(P_{old})
$$

* $\boldsymbol L(P_{old})$: Average of the vectors to neighboring vertices

<img src="数字几何处理.assets/image-20200415080757339.png" alt="image-20200415080757339" style="zoom: 67%;" />

* Equivalent to box filter in signal processing

* Apply to all vertices on mesh

* Typically repeat several times

* Can describe as energy minimization

	* Energy = sum of squared edge lengths in mesh

	* Parameter  $\lambda>0$ controls convergence "speed"

### Discrete Mean Curvature Flow Filtering

<img src="数字几何处理.assets/image-20200415080953266.png" alt="image-20200415080953266" style="zoom:67%;" />
$$
H\boldsymbol n=\frac{\nabla_p A}{2A}=\frac{1}{4A}\sum\limits_j (\cot \alpha_j+\cot\beta_j)(\boldsymbol P-\boldsymbol Q_j)
$$

$$
P_{new}\longleftarrow P_{old}+\lambda H(P_{old})\boldsymbol n(P_{old})
$$

* Speed = discrete mean curvature 
* Direction = normal 

<img src="数字几何处理.assets/image-20200415081233362.png" alt="image-20200415081233362" style="zoom:67%;" />

## Mesh Simplification

 ### Mesh Simplification

<img src="数字几何处理.assets/image-20200415081738431.png" alt="image-20200415081738431" style="zoom:67%;" />

### 简化策略

* 删除不重要的顶点/边/面
	* 度量

<img src="数字几何处理.assets/image-20200415081810995.png" alt="image-20200415081810995" style="zoom:67%;" />

## Surface Editing

### Mesh Editing/Deformation

* 满足用户交互的变形

<img src="数字几何处理.assets/image-20200415082356198.png" alt="image-20200415082356198" style="zoom: 50%;" />

### Methods

* Deform the vertex coordinates directly
	* Drag vertices
* Deform the control points
	* Bézier, NURBS
* Deform the embedded space
	* FFD, Axial deformation

### Free-form Deformation (FFD)

* Embed the object into a domain that is more easily parametrized than the object.
* Advantages: 
	* You can deform arbitrary objects
	* Independent of object representation

<img src="数字几何处理.assets/image-20200415082726969.png" alt="image-20200415082726969" style="zoom: 50%;" />

#### Axial Deformation (AxDf)

<img src="数字几何处理.assets/image-20200415082901451.png" alt="image-20200415082901451" style="zoom:67%;" />

<img src="数字几何处理.assets/image-20200415082931268.png" alt="image-20200415082931268" style="zoom:67%;" />

#### FFD via Sketching

<img src="数字几何处理.assets/image-20200415083040696.png" alt="image-20200415083040696" style="zoom:67%;" />

#### Sketching Deformations

<img src="数字几何处理.assets/image-20200415083058655.png" alt="image-20200415083058655" style="zoom:50%;" />

#### Wires

<img src="数字几何处理.assets/image-20200415083124720.png" alt="image-20200415083124720" style="zoom: 50%;" />

#### Barycentric Coordinates

<img src="数字几何处理.assets/image-20200415083356198.png" alt="image-20200415083356198" style="zoom:50%;" />

### Detail-Preserving Editing

#### Laplacian Editing

* Local detail representation – enables detail preservation through various modeling tasks
* Representation with sparse matrices
* Efficient linear surface reconstruction

<img src="数字几何处理.assets/image-20200415083611092.png" alt="image-20200415083611092" style="zoom:50%;" />

**Editing framework**

* The spatial constraints will serve as modeling constraints
* •Reconstruct the surface every time the modeling constraints are changed

Detail constraints: $L\boldsymbol x=\boldsymbol \delta$

Modeling constraints: $x_j=c_j, j\in\{j_1,j_2,\cdots,j_k\}$

**Reconstruction**

<img src="数字几何处理.assets/image-20200415083845805.png" alt="image-20200415083845805" style="zoom:50%;" />

<img src="数字几何处理.assets/image-20200415083902621.png" alt="image-20200415083902621" style="zoom:50%;" />
$$
\hat{\boldsymbol x}=\arg\min_x \Big(\|L\boldsymbol x-\boldsymbol \delta_x\|^2+\sum\limits_{s=1}^k|x_k-c_k|^2  \Big)
$$

$$
Ax=b\\
A^TAx=A^Tb\\
x=(A^TA)^{-1}A^Tb
$$

**Detail transfer and mixing**

“Peel“ the coating of one surface and transfer to another

<img src="数字几何处理.assets/image-20200415084148670.png" alt="image-20200415084148670" style="zoom:50%;" />

* Correspondence:

	<img src="数字几何处理.assets/image-20200415084436590.png" alt="image-20200415084436590" style="zoom:50%;" />

	* Parameterization onto a common domain and elastic warp to align the features, if needed

* Detail peeling:

	<img src="数字几何处理.assets/image-20200415084247438.png" alt="image-20200415084247438" style="zoom:50%;" />
	$$
	\xi_i=\delta_i-\tilde\delta_i
	$$

* Changing local frames:

	<img src="数字几何处理.assets/image-20200415084407960.png" alt="image-20200415084407960" style="zoom:50%;" />

* Reconstruction of target surface from:$\delta_{target}$
	$$
	\delta_{target}=\delta_i'+\xi_i'
	$$
	<img src="数字几何处理.assets/image-20200415084528605.png" alt="image-20200415084528605" style="zoom:50%;" />

#### Poisson Mesh Editing

* The representation: the gradients of the functions X, Y, Z on each triangle of the mesh
* Deformation: propagate the transformation of the handle onto the ROI using geodesic distances

<img src="数字几何处理.assets/image-20200415084637376.png" alt="image-20200415084637376" style="zoom:50%;" />

#### Linear Rotation - invariant coordinates

**Frame-based deformations**

* Keep a local frame at each vertex

* Prescribe changes to some selected frames

	<img src="数字几何处理.assets/image-20200415084739322.png" alt="image-20200415084739322" style="zoom:50%;" />

	* Encode the differences between adjacent frames
	* Solve for the new frames in least-squares sense

<img src="数字几何处理.assets/image-20200415084827949.png" alt="image-20200415084827949" style="zoom:50%;" />

* Reconstruction
	* After having the frames, solve for positions

<img src="数字几何处理.assets/image-20200415084918139.png" alt="image-20200415084918139" style="zoom:50%;" />

* Result

	<img src="数字几何处理.assets/image-20200415085004004.png" alt="image-20200415085004004" style="zoom:50%;" />

**Differential Processing**

* Local detail representation
* Representation with sparse matrices
* Efficient linear surface reconstruction

## Mesh Morphing

### Morphing

* Given two objects produce sequence of intermediate objects that gradually evolve from one object to the other
	* Interpolate object shapes
	* Interpolate object attributes
		* Color, texture, normal, etc.

<img src="数字几何处理.assets/image-20200415085258516.png" alt="image-20200415085258516" style="zoom:50%;" />

### Terminologies

* Morphing
* Metamorphosis
* Shape blending
* Shape averaging
* Shape interpolation
* Shape transition

### Morphing: Sub-Problem

<img src="数字几何处理.assets/image-20200415085404533.png" alt="image-20200415085404533" style="zoom:50%;" />

* Correspondence problem
	* For each point on source/target meshes find corresponding point on second mesh = Parameterization
* Path problem
	* Specify trajectory in time for each point
	* For mesh – specify vertex trajectory

### Vertex Correspondence

<img src="数字几何处理.assets/image-20200415085451008.png" alt="image-20200415085451008" style="zoom:50%;" />

<img src="数字几何处理.assets/image-20200415085503466.png" alt="image-20200415085503466" style="zoom:50%;" />

### More DGP Problems

* Mesh completion
* Remeshing
* Level of detail
* Mesh compression
* Texture synthesis
* Shape analysis
* …

### 3D形状分析与理解

![image-20200415085610772](数字几何处理.assets/image-20200415085610772.png)